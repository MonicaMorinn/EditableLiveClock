<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Big Digital Clock</title>
  <style>
    body {
      margin: 0;
      height: 100vh;
      background-color: transparent;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      font-family: sans-serif;
      transition: background-color 0.3s ease;
      user-select: none;
      overflow-y: auto;
    }
    .clock {
      font-size: 20vw;
      font-weight: 500;
      color: #333;
      transition: font-size 0.2s ease, font-family 0.3s ease, color 0.3s ease;
      user-select: none;
    }
    .controls {
      display: none;
      flex-direction: column;
      gap: 10px;
      background: rgba(255, 255, 255, 0.95);
      padding: 10px;
      border-radius: 8px;
      position: fixed;
      top: 50px;
      left: 10px;
      z-index: 100;
    }
    .saved-colors {
      display: flex;
      gap: 6px;
      margin-top: 5px;
      flex-wrap: wrap;
    }
    .color-swatch {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      border: 1px solid #ccc;
      cursor: pointer;
    }
    #toggleControlsBtn {
      position: fixed;
      top: 10px;
      left: 10px;
      z-index: 1000;
      font-size: 18px;
      padding: 6px 10px;
      font-weight: 700;
      border-radius: 6px;
      border: 1px solid #bbb;
      background: rgba(255 255 255 / 0.85);
      cursor: pointer;
      opacity: 1;
      transition: opacity 0.3s;
      user-select: none;
    }
  </style>
</head>
<body>
  <button id="toggleControlsBtn">â˜°</button>
  <div class="controls" id="controlsPanel">
    <label>BG Color:
      <input type="color" id="bgColorPicker" />
      <button id="saveBgColorBtn">+</button>
    </label>
    <div class="saved-colors" id="savedBgColors"></div>

    <label>Font Color:
      <input type="color" id="fontColorPicker" />
      <button id="saveFontColorBtn">+</button>
    </label>
    <div class="saved-colors" id="savedFontColors"></div>

    <label>Font:
      <input type="text" id="fontInput" placeholder="Type a font name (e.g. Segoe UI)" />
    </label>
  </div>

  <div class="clock" id="clock">9:27 PM</div>
<script>
  const clock = document.getElementById("clock");
  const fontInput = document.getElementById("fontInput");
  const fontColorPicker = document.getElementById("fontColorPicker");
  const bgColorPicker = document.getElementById("bgColorPicker");
  const savedFontColors = document.getElementById("savedFontColors");
  const savedBgColors = document.getElementById("savedBgColors");
  const saveFontColorBtn = document.getElementById("saveFontColorBtn");
  const saveBgColorBtn = document.getElementById("saveBgColorBtn");
  const toggleControlsBtn = document.getElementById("toggleControlsBtn");
  const controlsPanel = document.getElementById("controlsPanel");

  // Update the time every second
  function updateTime() {
    const now = new Date();
    let hrs = now.getHours();
    const mins = now.getMinutes();
    const isPM = hrs >= 12;
    hrs = hrs % 12;
    if (hrs === 0) hrs = 12;
    clock.textContent = `${hrs}:${mins.toString().padStart(2, "0")} ${isPM ? "PM" : "AM"}`;
  }
  setInterval(updateTime, 1000);
  updateTime();

  // Font input
  fontInput.addEventListener("input", () => {
    const font = fontInput.value.trim();
    clock.style.fontFamily = font || "sans-serif";
  });

  // Color pickers
  bgColorPicker.addEventListener("input", () => {
    document.body.style.backgroundColor = bgColorPicker.value;
  });
  fontColorPicker.addEventListener("input", () => {
    clock.style.color = fontColorPicker.value;
  });

  // Save color swatches
  function addColorSwatch(color, container, applyFn) {
    const swatch = document.createElement("div");
    swatch.className = "color-swatch";
    swatch.style.backgroundColor = color;
    swatch.title = color;
    swatch.onclick = () => applyFn(color);
    container.appendChild(swatch);
  }

  saveFontColorBtn.onclick = () => {
    const color = fontColorPicker.value;
    addColorSwatch(color, savedFontColors, (col) => {
      clock.style.color = col;
      fontColorPicker.value = col;
    });
  };
  saveBgColorBtn.onclick = () => {
    const color = bgColorPicker.value;
    addColorSwatch(color, savedBgColors, (col) => {
      document.body.style.backgroundColor = col;
      bgColorPicker.value = col;
    });
  };

  // Toggle control panel
  toggleControlsBtn.onclick = () => {
    controlsPanel.style.display =
      controlsPanel.style.display === "flex" ? "none" : "flex";
  };

  // Hide button after 3s idle, show on mouse move
  let idleTimer;
  const hideBtn = () => (toggleControlsBtn.style.opacity = 0);
  const showBtn = () => {
    toggleControlsBtn.style.opacity = 1;
    clearTimeout(idleTimer);
    idleTimer = setTimeout(hideBtn, 3000);
  };
  document.addEventListener("mousemove", showBtn);
  showBtn();
</script>
</body>
</html>
